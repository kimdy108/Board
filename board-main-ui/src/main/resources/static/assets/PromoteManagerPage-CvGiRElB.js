import{s as i,a as w}from"./index-C-gLVMr0.js";import{s as u}from"./index-DYQKO0NT.js";import{q as v,x as b,v as N,d as x,h as n,l as t,w as h,u as r,F as P,A as c,z as s,o as d,e as m}from"./index-MLJOWxPO.js";import"./index-CHNytka8.js";import"./index-Cejfz1NM.js";import"./index-DERriOhV.js";import"./index-DjaDtwHY.js";import"./index-oYVlSIy2.js";import"./index-DUVqnvLL.js";const _={class:"card"},T={__name:"PromoteManagerPage",setup(G){const p=v(),f=b(),g=async e=>{await c.requestAPI({headers:{accept:"application/json"},method:"PUT",url:"/member/promote/manager",data:{userGuid:e.data.userGuid}})==="success"?(alert("매니저 수정이 완료되었습니다."),o()):alert("매니저 수정이 실패했습니다.")},y=async e=>{await c.requestAPI({headers:{accept:"application/json"},method:"PUT",url:"/member/relegate/manager",data:{userGuid:e.data.userGuid}})==="success"?(alert("매니저 수정이 완료되었습니다."),o()):alert("매니저 수정이 실패했습니다.")},o=async()=>{const e=await c.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/member/info/list"});for(let a in e)e[a].userId=s(e[a].userId),e[a].userGuid=s(e[a].userGuid),e[a].userName=s(e[a].userName),e[a].userNickName=s(e[a].userNickName),e[a].userEmail=s(e[a].userEmail),e[a].userPhone=s(e[a].userPhone),e[a].userRole=s(e[a].userRole),e[a].insertDate=e[a].insertDate.split("T")[0];p.value=e};return N(()=>{o()}),(e,a)=>(d(),x(P,null,[a[0]||(a[0]=n("div",{class:"text-left text-black"},[n("div",{class:"ml-5 text-6xl p-10"},"매니저 관리")],-1)),n("div",_,[t(r(w),{value:p.value,paginator:"",rows:10,tableStyle:"min-width: 50rem",style:{"margin-left":"15px","margin-right":"15px"}},{default:h(()=>[t(r(i),{field:"userId",header:"아이디",style:{width:"15%"}}),t(r(i),{field:"userName",header:"이름",style:{width:"15%"}}),t(r(i),{field:"userNickName",header:"닉네임",style:{width:"15%"}}),t(r(i),{field:"userPhone",header:"전화번호",style:{width:"15%"}}),t(r(i),{field:"userEmail",header:"이메일",style:{width:"15%"}}),t(r(i),{field:"insertDate",header:"가입일",style:{width:"15%"}}),t(r(i),{style:{width:"10%"}},{body:h(l=>[l.data.userRole!=="manager"?(d(),m(r(u),{key:0,label:"매니저 지정",rounded:"",class:"mr-2",onClick:k=>g(l)},null,8,["onClick"])):l.data.userRole==="manager"&&l.data.userId!=="admin"?(d(),m(r(u),{key:1,label:"매니저 삭제",rounded:"",severity:"danger",onClick:k=>y(l),disabled:l.data.userId==="admin"||l.data.userGuid===r(s)(r(f).getUserAccess.ugd)},null,8,["onClick","disabled"])):(d(),m(r(u),{key:2,label:"최고 관리자",rounded:"",severity:"info"}))]),_:1})]),_:1},8,["value"])])],64))}};export{T as default};
