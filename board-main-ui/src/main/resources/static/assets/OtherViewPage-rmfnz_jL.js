import{s as r}from"./index-BUPveENK.js";import{C as w,t as A,q as T,v as t,z,o as D,e as B,j as s,X as o,n as l,u as n,G as x,F as j,A as y,D as _}from"./index-rWrCVdvU.js";const N={class:"text-left ml-16 mt-16"},V={class:"text-8xl mb-5 text-black"},q={class:"text-5xl mb-5 text-black"},F={class:"text-2xl text-black"},I={class:"text-2xl text-black"},R={class:"text-left mr-16 flex justify-end"},M={__name:"OtherViewPage",props:{boardGuid:String},setup(O){const d=w(),S=A(),c=T(),i=O,m=t(""),p=t(""),h=t(""),b=t(""),g=t(""),v=t(!1),u=t(!1),k=()=>{const e=d.getUserAccess.ugd,a=d.getUserRole;_(e)===g.value?(v.value=!0,u.value=!0):_(a)==="manager"&&(u.value=!0)},f=()=>{c.push({name:"OtherBoardPage"}).catch(()=>{console.log("OtherBoardPageError")})},E=()=>{const e=i.boardGuid;c.push({name:"OtherCommentPage",params:{boardGuid:e}}).catch(()=>{console.log("OtherCommentPage")})},G=()=>{c.push({name:"OtherEditPage"}).catch(()=>{console.log("OtherEditPageError")})},C=async()=>{const e=await y.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/board/free/search",params:{freeGuid:i.boardGuid}});m.value=e.boardTitle,p.value=e.boardContent,h.value=e.memberNickName,b.value=e.boardInsertDate.split("T")[0],g.value=e.memberGuid,k()},P=async()=>{await y.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/board/free/delete/${i.boardGuid}`})==="success"&&(S.setToastValue({severity:"success",summary:"게시글 삭제",detail:"삭제가 완료되었습니다.",life:3e3}),f())};return z(()=>{C()}),(e,a)=>(D(),B(j,null,[s("div",N,[s("h2",V,o(m.value),1),s("p",q,o(p.value),1),s("p",F,"작성자 : "+o(h.value),1),s("p",I,"작성일 : "+o(b.value),1)]),a[0]||(a[0]=s("hr",{class:"mt-16 ml-16 mr-16 mb-10"},null,-1)),s("div",R,[l(n(r),{label:"목록",size:"large",class:"mr-2",onClick:f}),l(n(r),{label:"댓글",size:"large",severity:"help",class:"mr-2",onClick:E}),l(n(r),{label:"수정",size:"large",severity:"info",class:"mr-2",style:x(v.value?"":"display: none"),onClick:G},null,8,["style"]),l(n(r),{label:"삭제",size:"large",severity:"danger",style:x(u.value?"":"display: none"),onClick:P},null,8,["style"])])],64))}};export{M as default};
