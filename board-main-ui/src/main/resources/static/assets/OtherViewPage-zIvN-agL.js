import{s as l}from"./index-BAKYOd6c.js";import{x as z,y as D,q as M,t,v as B,o as N,e as V,j as s,a7 as a,n as o,u as n,w as j,p as q,D as C,F,A as O,z as S}from"./index-ELgps0j8.js";import I from"./OtherCommentPage-Bi2JxCT5.js";import"./index-K56FDctV.js";import"./index-DwJEJvq7.js";import"./index-BvRL5P7J.js";const R={class:"text-left ml-16 mt-16"},U={class:"text-8xl mb-5 text-black"},L={class:"text-5xl mb-5 text-black"},$={class:"text-2xl text-black"},W={class:"text-2xl text-black"},H={class:"text-left mr-16 flex justify-end"},ee={__name:"OtherViewPage",props:{boardGuid:String},setup(k){const d=z(),w=D(),m=M(),c=k,p=t(""),h=t(""),v=t(""),b=t(""),f=t(""),g=t(0),x=t(!1),i=t(!1),u=t(!1),E=()=>{const e=d.getUserAccess.ugd,r=d.getUserRole;S(e)===f.value?(x.value=!0,i.value=!0):S(r)==="manager"&&(i.value=!0)},_=()=>{m.push({name:"OtherBoardPage"}).catch(()=>{console.log("OtherBoardPageError")})},G=()=>{m.push({name:"OtherEditPage"}).catch(()=>{console.log("OtherEditPageError")})},T=()=>{u.value=!0},A=()=>{y(),u.value=!1},y=async()=>{const e=await O.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/board/free/search",params:{freeGuid:c.boardGuid}});p.value=e.boardTitle,h.value=e.boardContent,v.value=e.memberNickName,b.value=e.boardInsertDate.split("T")[0],f.value=e.memberGuid,g.value=e.commentCount,E()},P=async()=>{await O.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/board/free/delete/${c.boardGuid}`})==="success"&&(w.setToastValue({severity:"success",summary:"게시글 삭제",detail:"삭제가 완료되었습니다.",life:3e3}),_())};return B(()=>{y()}),(e,r)=>(N(),V(F,null,[s("div",R,[s("h2",U,a(p.value),1),s("p",L,a(h.value),1),s("p",$,"작성자 : "+a(v.value),1),s("p",W,"작성일 : "+a(b.value),1)]),r[0]||(r[0]=s("hr",{class:"mt-16 ml-16 mr-16 mb-10"},null,-1)),s("div",H,[o(n(l),{label:"목록",size:"large",class:"mr-2",onClick:_}),o(n(l),{size:"large",severity:"help",class:"mr-2",onClick:T},{default:j(()=>[q("댓글 "+a(g.value)+"건",1)]),_:1}),o(n(l),{label:"수정",size:"large",severity:"info",class:"mr-2",style:C(x.value?"":"display: none"),onClick:G},null,8,["style"]),o(n(l),{label:"삭제",size:"large",severity:"danger",style:C(i.value?"":"display: none"),onClick:P},null,8,["style"])]),o(I,{showModal:u.value,boardGuid:c.boardGuid,onCloseCommentModal:A},null,8,["showModal","boardGuid"])],64))}};export{ee as default};
