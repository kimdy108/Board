import{s as l}from"./index-BgBtyFnt.js";import{t as E,p as Q,q as s,s as S,o as G,d as P,h as t,V as n,l as o,u as r,v as h,F as w,A as q,x as C}from"./index-hZkCZhQ4.js";import"./index-BTQgR7ZA.js";const T={class:"text-left ml-16 mt-16"},z={class:"text-8xl mb-5 text-black"},D={class:"text-5xl mb-5 text-black"},N={class:"text-2xl text-black"},V={class:"text-2xl text-black"},j={class:"text-left mr-16 flex justify-end"},L={__name:"QnAViewPage",props:{qnaGuid:String},setup(A){const _=E(),c=Q(),i=A,u=s(""),d=s(""),p=s(""),m=s(""),g=s(""),a=s(!1),f=()=>{const e=_.getUserAccess.ugd;C(e)===g.value?a.value=!0:a.value=!1},v=()=>{c.push({name:"QnAPage"}).catch(()=>{console.log("QnAPageError")})},y=()=>{c.push({name:"QnAEditPage"}).catch(()=>{console.log("QnAEditPage")})},b=async()=>{const e=await q.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/qna/search",params:{qnaGuid:i.qnaGuid}});u.value=e.qnaTitle,d.value=e.qnaContent,p.value=e.memberNickName,m.value=e.qnaInsertDate.split("T")[0],g.value=e.memberGuid,f()},k=async()=>{await q.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/qna/delete/${i.qnaGuid}`})==="success"&&(alert("삭제가 완료되었습니다."),v())};return S(()=>{b()}),(e,x)=>(G(),P(w,null,[t("div",T,[t("h2",z,n(u.value),1),t("p",D,n(d.value),1),t("p",N,"작성자 : "+n(p.value),1),t("p",V,"작성일 : "+n(m.value),1)]),x[0]||(x[0]=t("hr",{class:"mt-16 ml-16 mr-16 mb-10"},null,-1)),t("div",j,[o(r(l),{label:"목록",size:"large",class:"mr-2",onClick:v}),o(r(l),{label:"수정",size:"large",severity:"info",class:"mr-2",style:h(a.value?"":"display: none"),onClick:y},null,8,["style"]),o(r(l),{label:"삭제",size:"large",severity:"danger",style:h(a.value?"":"display: none"),onClick:k},null,8,["style"])])],64))}};export{L as default};
