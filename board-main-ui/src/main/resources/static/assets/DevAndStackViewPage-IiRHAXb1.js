import{s as r}from"./index-DYQKO0NT.js";import{x as w,p as G,q as t,v as P,o as z,d as C,h as s,Y as l,l as n,u as c,y as x,F as T,A as f,z as h}from"./index-MLJOWxPO.js";import"./index-CHNytka8.js";const N={class:"text-left ml-16 mt-16"},O={class:"text-8xl mb-5 text-black"},j={class:"text-5xl mb-5 text-black"},q={class:"text-2xl text-black"},B={class:"text-2xl text-black"},F={class:"text-left mr-16 flex justify-end"},V={__name:"DevAndStackViewPage",props:{boardGuid:String},setup(A){const i=w(),d=G(),u=A,m=t(""),p=t(""),v=t(""),b=t(""),g=t(""),k=t(!1),o=t(!1),_=()=>{const e=i.getUserAccess.ugd,a=i.getUserRole;h(e)===g.value?(k.value=!0,o.value=!0):h(a)==="manager"?o.value=!0:isOwner.value=!1},S=()=>{d.push({name:"DevelopmentAndStackPage"}).catch(()=>{console.log("DevelopmentAndStackPageError")})},y=()=>{d.push({name:"DevAndStackEditPage"}).catch(()=>{console.log("DevAndStackEditPage")})},D=async()=>{const e=await f.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/board/dev/stack/search",params:{developmentAndStackGuid:u.boardGuid}});m.value=e.boardTitle,p.value=e.boardContent,v.value=e.memberNickName,b.value=e.boardInsertDate.split("T")[0],g.value=e.memberGuid,_()},E=async()=>{await f.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/board/dev/stack/delete/${u.boardGuid}`})==="success"&&(alert("삭제가 완료되었습니다."),S())};return P(()=>{D()}),(e,a)=>(z(),C(T,null,[s("div",N,[s("h2",O,l(m.value),1),s("p",j,l(p.value),1),s("p",q,"작성자 : "+l(v.value),1),s("p",B,"작성일 : "+l(b.value),1)]),a[0]||(a[0]=s("hr",{class:"mt-16 ml-16 mr-16 mb-10"},null,-1)),s("div",F,[n(c(r),{label:"목록",size:"large",class:"mr-2",onClick:S}),n(c(r),{label:"수정",size:"large",severity:"info",class:"mr-2",style:x(k.value?"":"display: none"),onClick:y},null,8,["style"]),n(c(r),{label:"삭제",size:"large",severity:"danger",style:x(o.value?"":"display: none"),onClick:E},null,8,["style"])])],64))}};export{V as default};
