import{_ as T}from"./board-BFWOEN-2.js";import{s as g}from"./index-BUPveENK.js";import{s as o,a as w}from"./index-tOX5CAHA.js";import{s as y}from"./index-POF9V-PZ.js";import{q as I,t as A,v as i,e as S,j as a,n as s,w as t,u as l,o as U,x as P,A as j,y as x}from"./index-rWrCVdvU.js";const B={class:"bg-cover bg-center bg-fixed"},M={class:"h-screen flex justify-center items-center"},O={class:"w-full sm:w-80 flex flex-col gap-6 shadow-lg w-full p-16 md:w-1/3 lg:w-1/4"},$={class:"flex"},G={__name:"ChangePasswordPage",setup(q){const _=I(),r=A(),d=i(!1),p=i(!1),c=i(!1),u=i(""),m=i(""),f=i(""),b=()=>{d.value=!d.value},h=()=>{p.value=!p.value},k=()=>{c.value=!c.value},C=()=>{u.value===""||u.value===null?r.setToastValue({severity:"warn",summary:"비밀번호 변경 오류",detail:"이전 비밀번호를 입력해주세요.",life:3e3}):m.value===f.value?N():r.setToastValue({severity:"warn",summary:"비밀번호 변경 오류",detail:"비밀번호가 일치하지 않습니다.",life:3e3})},V=()=>{_.push({name:"MyPage"}).catch(()=>{console.log("MyPageError")})},N=async()=>{try{await j.requestAPI({headers:{accept:"application/json"},method:"PUT",url:"/member/update/password",data:{oldPassword:x(u.value),newPassword:x(m.value)}})==="success"?(r.setToastValue({severity:"success",summary:"비밀번호 변경",detail:"수정이 완료되었습니다.",life:3e3}),V()):r.setToastValue({severity:"error",summary:"비밀번호 변경 오류",detail:"수정에 실패했습니다.",life:3e3})}catch(v){console.error("API 호출 오류:",v),r.setToastValue({severity:"error",summary:"비밀번호 변경 오류",detail:"수정에 실패했습니다.",life:3e3})}};return(v,e)=>(U(),S("div",B,[a("div",M,[a("div",O,[e[6]||(e[6]=a("img",{src:T,class:"mb-10"},null,-1)),s(l(w),null,{default:t(()=>[s(l(o),null,{default:t(()=>e[3]||(e[3]=[a("i",{class:"pi pi-lock"},null,-1)])),_:1}),s(l(y),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=n=>u.value=n),type:d.value?"text":"password",placeholder:"이전 비밀번호",autofocus:"",fluid:""},null,8,["modelValue","type"]),s(l(o),null,{default:t(()=>[a("i",{class:P(d.value?"pi pi-eye":"pi pi-eye-slash"),onClick:b},null,2)]),_:1})]),_:1}),s(l(w),null,{default:t(()=>[s(l(o),null,{default:t(()=>e[4]||(e[4]=[a("i",{class:"pi pi-lock"},null,-1)])),_:1}),s(l(y),{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=n=>m.value=n),type:p.value?"text":"password",placeholder:"비밀번호",autofocus:"",fluid:""},null,8,["modelValue","type"]),s(l(o),null,{default:t(()=>[a("i",{class:P(p.value?"pi pi-eye":"pi pi-eye-slash"),onClick:h},null,2)]),_:1})]),_:1}),s(l(w),null,{default:t(()=>[s(l(o),null,{default:t(()=>e[5]||(e[5]=[a("i",{class:"pi pi-lock"},null,-1)])),_:1}),s(l(y),{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=n=>f.value=n),type:c.value?"text":"password",placeholder:"비밀번호 확인",fluid:""},null,8,["modelValue","type"]),s(l(o),null,{default:t(()=>[a("i",{class:P(c.value?"pi pi-eye":"pi pi-eye-slash"),onClick:k},null,2)]),_:1})]),_:1}),a("div",$,[s(l(g),{onClick:V,label:"마이페이지",style:{width:"150px"},severity:"info",outlined:""}),s(l(g),{onClick:C,label:"비밀번호 변경",style:{width:"150px"},severity:"danger",outlined:""})])])])]))}};export{G as default};
