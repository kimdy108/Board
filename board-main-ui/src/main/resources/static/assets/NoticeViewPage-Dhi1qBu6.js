import{s as l}from"./index-BUPveENK.js";import{C as G,t as P,q as A,v as s,z as T,o as w,e as C,j as t,X as a,n as i,u as n,G as h,F as z,A as x,D}from"./index-rWrCVdvU.js";const j={class:"text-left ml-16 mt-16"},V={class:"text-8xl mb-5 text-black"},q={class:"text-5xl mb-5 text-black"},B={class:"text-2xl text-black"},F={class:"text-2xl text-black"},I={class:"text-left mr-16 flex justify-end"},U={__name:"NoticeViewPage",props:{noticeGuid:String},setup(f){const y=G(),_=P(),c=A(),r=f,u=s(""),d=s(""),m=s(""),p=s(""),g=s(""),o=s(!1),N=()=>{const e=y.getUserAccess.ugd;D(e)===g.value?o.value=!0:o.value=!1},b=()=>{c.push({name:"NoticePage"}).catch(()=>{console.log("NoticePageError")})},S=()=>{c.push({name:"NoticeEditPage"}).catch(()=>{console.log("NoticeEditPage")})},k=async()=>{const e=await x.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/notice/search",params:{noticeGuid:r.noticeGuid}});u.value=e.noticeTitle,d.value=e.noticeContent,m.value=e.memberNickName,p.value=e.noticeInsertDate.split("T")[0],g.value=e.memberGuid,N()},E=async()=>{await x.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/notice/delete/${r.noticeGuid}`})==="success"&&(_.setToastValue({severity:"success",summary:"공지사항 삭제",detail:"삭제가 완료되었습니다.",life:3e3}),c.push({name:"NoticePage"}).catch(()=>{console.log("NoticePageError")}))};return T(()=>{k()}),(e,v)=>(w(),C(z,null,[t("div",j,[t("h2",V,a(u.value),1),t("p",q,a(d.value),1),t("p",B,"작성자 : "+a(m.value),1),t("p",F,"작성일 : "+a(p.value),1)]),v[0]||(v[0]=t("hr",{class:"mt-16 ml-16 mr-16 mb-10"},null,-1)),t("div",I,[i(n(l),{label:"목록",size:"large",class:"mr-2",onClick:b}),i(n(l),{label:"수정",size:"large",severity:"info",class:"mr-2",style:h(o.value?"":"display: none"),onClick:S},null,8,["style"]),i(n(l),{label:"삭제",size:"large",severity:"danger",style:h(o.value?"":"display: none"),onClick:E},null,8,["style"])])],64))}};export{U as default};
