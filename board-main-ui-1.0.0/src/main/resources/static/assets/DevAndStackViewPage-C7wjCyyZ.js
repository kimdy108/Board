import{s as o}from"./index-BUPveENK.js";import{C as P,t as w,q as T,v as t,z,o as j,e as N,j as s,X as l,n,u as r,G as A,F as V,A as h,D}from"./index-rWrCVdvU.js";const q={class:"text-left ml-16 mt-16"},B={class:"text-8xl mb-5 text-black"},F={class:"text-5xl mb-5 text-black"},I={class:"text-2xl text-black"},O={class:"text-2xl text-black"},R={class:"text-left mr-16 flex justify-end"},M={__name:"DevAndStackViewPage",props:{boardGuid:String},setup(f){const u=P(),x=w(),c=T(),i=f,m=t(""),v=t(""),p=t(""),b=t(""),g=t(""),k=t(!1),d=t(!1),y=()=>{const e=u.getUserAccess.ugd,a=u.getUserRole;D(e)===g.value?(k.value=!0,d.value=!0):D(a)==="manager"&&(d.value=!0)},S=()=>{c.push({name:"DevelopmentAndStackPage"}).catch(()=>{console.log("DevelopmentAndStackPageError")})},_=()=>{c.push({name:"DevAndStackEditPage"}).catch(()=>{console.log("DevAndStackEditPage")})},G=()=>{const e=i.boardGuid;c.push({name:"DevAndStackCommentPage",params:{boardGuid:e}}).catch(()=>{console.log("DevAndStackCommentPage")})},C=async()=>{const e=await h.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/board/dev/stack/search",params:{developmentAndStackGuid:i.boardGuid}});m.value=e.boardTitle,v.value=e.boardContent,p.value=e.memberNickName,b.value=e.boardInsertDate.split("T")[0],g.value=e.memberGuid,y()},E=async()=>{await h.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/board/dev/stack/delete/${i.boardGuid}`})==="success"&&(x.setToastValue({severity:"success",summary:"게시글 삭제",detail:"삭제가 완료되었습니다.",life:3e3}),S())};return z(()=>{C()}),(e,a)=>(j(),N(V,null,[s("div",q,[s("h2",B,l(m.value),1),s("p",F,l(v.value),1),s("p",I,"작성자 : "+l(p.value),1),s("p",O,"작성일 : "+l(b.value),1)]),a[0]||(a[0]=s("hr",{class:"mt-5 ml-16 mr-16 mb-10"},null,-1)),s("div",R,[n(r(o),{label:"목록",size:"large",class:"mr-2",onClick:S}),n(r(o),{label:"댓글",size:"large",severity:"help",class:"mr-2",onClick:G}),n(r(o),{label:"수정",size:"large",severity:"info",class:"mr-2",style:A(k.value?"":"display: none"),onClick:_},null,8,["style"]),n(r(o),{label:"삭제",size:"large",severity:"danger",style:A(d.value?"":"display: none"),onClick:E},null,8,["style"])])],64))}};export{M as default};
