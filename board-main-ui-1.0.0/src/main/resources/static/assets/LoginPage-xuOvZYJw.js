import{_ as V}from"./board-BFWOEN-2.js";import{s as d,a as g}from"./index-oYVlSIy2.js";import{s as v}from"./index-DUVqnvLL.js";import{s as p}from"./index-DYQKO0NT.js";import{q as m,x as y,p as S,d as U,h as o,l as s,w as n,u as l,o as C,s as I,A,t as w}from"./index-MLJOWxPO.js";import"./index-CHNytka8.js";const F={class:"bg-cover bg-center bg-fixed"},R={class:"h-screen flex justify-center items-center"},E={class:"w-full sm:w-80 flex flex-col gap-6 shadow-lg w-full p-16 md:w-1/3 lg:w-1/4"},G={__name:"LoginPage",setup(N){const t=m(""),r=m(""),f=y(),u=m(!1);let a=null;const i=S(),P=()=>{t.value==null||t.value==""?alert("아이디를 입력해주세요."):r.value==null||r.value==""?alert("비밀번호를 입력해주세요."):h()},h=async()=>{a=await A.requestAPI({headers:{accept:"application/json"},method:"POST",url:"/member/login",data:{id:w(t.value),password:w(r.value)}}),a.outPut?(f.setUserAccess({at:a.accessToken,rt:a.refreshToken,uid:a.userId,ugd:a.userGuid,unn:a.userNickName,rol:a.userRole}),f.setUserRole(a.userRole),_()):alert("아이디 또는 비밀번호를 확인해주세요.")},_=()=>{i.push({name:"MainPage"}).catch(()=>{console.log("mainPageError")})},b=()=>{i.push({name:"SignUpPage"}).catch(()=>{console.log("signUpError")})},k=()=>{i.push({name:"ResetPasswordPage"}).catch(()=>{console.log("resetPasswordError")})},x=()=>{u.value=!u.value};return(B,e)=>(C(),U("div",F,[o("div",R,[o("div",E,[e[4]||(e[4]=o("img",{src:V,class:"mb-10"},null,-1)),s(l(g),null,{default:n(()=>[s(l(d),null,{default:n(()=>e[2]||(e[2]=[o("i",{class:"pi pi-user"},null,-1)])),_:1}),s(l(v),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=c=>t.value=c),type:"text",placeholder:"ID",autofocus:"",fluid:""},null,8,["modelValue"])]),_:1}),s(l(g),null,{default:n(()=>[s(l(d),null,{default:n(()=>e[3]||(e[3]=[o("i",{class:"pi pi-lock"},null,-1)])),_:1}),s(l(v),{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=c=>r.value=c),type:u.value?"text":"password",placeholder:"Password",fluid:""},null,8,["modelValue","type"]),s(l(d),null,{default:n(()=>[o("i",{class:I(u.value?"pi pi-eye":"pi pi-eye-slash"),onClick:x},null,2)]),_:1})]),_:1}),s(l(p),{onClick:P,label:"로그인"}),o("div",null,[s(l(p),{onClick:b,label:"회원가입",class:"md:w-1/2"}),s(l(p),{onClick:k,label:"비밀번호 재설정",class:"md:w-1/2"})])])])]))}};export{G as default};
