import{_ as N}from"./board-BFWOEN-2.js";import{s as g}from"./index-DYQKO0NT.js";import{s as t,a as w}from"./index-oYVlSIy2.js";import{s as v}from"./index-DUVqnvLL.js";import{p as I,q as i,d as A,h as a,l,w as o,u as s,o as U,s as y,A as B,t as V}from"./index-MLJOWxPO.js";import"./index-CHNytka8.js";const M={class:"bg-cover bg-center bg-fixed"},O={class:"h-screen flex justify-center items-center"},S={class:"w-full sm:w-80 flex flex-col gap-6 shadow-lg w-full p-16 md:w-1/3 lg:w-1/4"},$={class:"flex"},F={__name:"ChangePasswordPage",setup(j){const h=I(),n=i(!1),d=i(!1),p=i(!1),u=i(""),c=i(""),f=i(""),_=()=>{n.value=!n.value},b=()=>{d.value=!d.value},x=()=>{p.value=!p.value},k=()=>{u.value===""||u.value===null?alert("이전 비밀번호를 입력해주세요."):c.value===f.value?C():alert("비밀번호가 일치하지 않습니다.")},P=()=>{h.push({name:"MyPage"}).catch(()=>{console.log("MyPageError")})},C=async()=>{try{await B.requestAPI({headers:{accept:"application/json"},method:"PUT",url:"/member/update/password",data:{oldPassword:V(u.value),newPassword:V(c.value)}})==="success"?(alert("수정이 완료되었습니다."),P()):alert("수정에 실패했습니다.")}catch(m){console.error("API 호출 오류:",m),alert("API 호출에 실패했습니다.")}};return(m,e)=>(U(),A("div",M,[a("div",O,[a("div",S,[e[6]||(e[6]=a("img",{src:N,class:"mb-10"},null,-1)),l(s(w),null,{default:o(()=>[l(s(t),null,{default:o(()=>e[3]||(e[3]=[a("i",{class:"pi pi-lock"},null,-1)])),_:1}),l(s(v),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),type:n.value?"text":"password",placeholder:"이전 비밀번호",autofocus:"",fluid:""},null,8,["modelValue","type"]),l(s(t),null,{default:o(()=>[a("i",{class:y(n.value?"pi pi-eye":"pi pi-eye-slash"),onClick:_},null,2)]),_:1})]),_:1}),l(s(w),null,{default:o(()=>[l(s(t),null,{default:o(()=>e[4]||(e[4]=[a("i",{class:"pi pi-lock"},null,-1)])),_:1}),l(s(v),{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=r=>c.value=r),type:d.value?"text":"password",placeholder:"비밀번호",autofocus:"",fluid:""},null,8,["modelValue","type"]),l(s(t),null,{default:o(()=>[a("i",{class:y(d.value?"pi pi-eye":"pi pi-eye-slash"),onClick:b},null,2)]),_:1})]),_:1}),l(s(w),null,{default:o(()=>[l(s(t),null,{default:o(()=>e[5]||(e[5]=[a("i",{class:"pi pi-lock"},null,-1)])),_:1}),l(s(v),{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=r=>f.value=r),type:p.value?"text":"password",placeholder:"비밀번호 확인",fluid:""},null,8,["modelValue","type"]),l(s(t),null,{default:o(()=>[a("i",{class:y(p.value?"pi pi-eye":"pi pi-eye-slash"),onClick:x},null,2)]),_:1})]),_:1}),a("div",$,[l(s(g),{onClick:P,label:"마이페이지",style:{width:"150px"},severity:"info",outlined:""}),l(s(g),{onClick:k,label:"비밀번호 변경",style:{width:"150px"},severity:"danger",outlined:""})])])])]))}};export{F as default};
