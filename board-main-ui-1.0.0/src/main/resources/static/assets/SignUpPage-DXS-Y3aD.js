import{s as r,a as p}from"./index-tOX5CAHA.js";import{s as v}from"./index-POF9V-PZ.js";import{s as T}from"./index-BUPveENK.js";import{q,t as E,v as o,e as F,j as t,n as l,w as i,u as s,o as B,x as G,A as g,y as n}from"./index-rWrCVdvU.js";const L={class:"bg-cover bg-center bg-fixed"},$={class:"h-screen flex justify-center items-center"},z={class:"w-full sm:w-80 flex flex-col gap-6 shadow-lg p-16 md:w-1/3 lg:w-1/4"},D={class:"flex items-center"},O={class:"flex items-center"},H={class:"flex items-center"},K={class:"flex items-center"},Z={__name:"SignUpPage",setup(M){const I=q(),a=E(),b=o(!1),d=o(""),f=o(""),y=o(""),c=o(""),m=o(""),V=o(""),k=o(!1),w=o(!1),h=o(!1),x=()=>{I.push({name:"LoginPage"}).catch(()=>{console.log("loginerror")})},N=()=>{d.value==null||d.value==""?a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"아이디를 입력해주세요.",life:3e3}):J()},S=()=>{c.value==null||c.value==""?a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"닉네임을 입력해주세요.",life:3e3}):C()},U=()=>{m.value==null||m.value==""?a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"전화번호를 입력해주세요.",life:3e3}):R()},_=()=>{b.value=!b.value},j=()=>{k.value?w.value?h.value?f.value==null||f.value==""?a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"이름을 입력해주세요.",life:3e3}):y.value==null||y.value==""?a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"비밀번호를 입력해주세요.",life:3e3}):V.value==null||V.value==""?a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"이메일을 입력해주세요.",life:3e3}):A():a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"전화번호 중복확인이 되어있지 않습니다.",life:3e3}):a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"닉네임 중복확인이 되어있지 않습니다.",life:3e3}):a.setToastValue({severity:"warn",summary:"회원가입 오류",detail:"아이디 중복확인이 되어있지 않습니다.",life:3e3})},A=async()=>{await g.requestAPI({headers:{accept:"application/json"},method:"POST",url:"/member/join",data:{id:n(d.value),name:n(f.value),password:n(y.value),nickName:n(c.value),phone:n(m.value),email:n(V.value)}})==="success"?(a.setToastValue({severity:"success",summary:"회원가입 성공",detail:"회원가입이 완료되었습니다.",life:3e3}),I.push({name:"LoginPage"}).catch(()=>{console.log("loginerror")})):a.setToastValue({severity:"error",summary:"회원가입 오류",detail:"회원가입에 실패했습니다.",life:3e3})},J=async()=>{await g.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/member/check/join/id",params:{id:n(d.value)}})===!0?(k.value||a.setToastValue({severity:"info",summary:"회원가입",detail:"사용 가능한 아이디 입니다.",life:3e3}),k.value=!k.value):a.setToastValue({severity:"error",summary:"회원가입 오류",detail:"사용할 수 없는 아이디 입니다.",life:3e3})},C=async()=>{await g.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/member/check/join/nickname",params:{nickName:n(c.value)}})===!0?(w.value||a.setToastValue({severity:"info",summary:"회원가입",detail:"사용 가능한 닉네임 입니다.",life:3e3}),w.value=!w.value):a.setToastValue({severity:"error",summary:"회원가입",detail:"사용할 수 없는 닉네임 입니다.",life:3e3})},R=async()=>{await g.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/member/check/join/phone",params:{phone:n(m.value)}})===!0?(h.value||a.setToastValue({severity:"info",summary:"회원가입",detail:"가입 가능한 전화번호 입니다.",life:3e3}),h.value=!h.value):a.setToastValue({severity:"error",summary:"회원가입",detail:"가입되어있는 전화번호 입니다.",life:3e3})};return(P,e)=>(B(),F("div",L,[t("div",$,[t("div",z,[t("div",D,[l(s(p),{class:"md:w-2/3"},{default:i(()=>[l(s(r),null,{default:i(()=>e[6]||(e[6]=[t("i",{class:"pi pi-user"},null,-1)])),_:1}),l(s(v),{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=u=>d.value=u),type:"text",placeholder:"ID",autofocus:"",fluid:"",disabled:k.value},null,8,["modelValue","disabled"])]),_:1}),l(s(T),{label:"중복 확인",class:"md:w-1/3",onClick:N})]),l(s(p),null,{default:i(()=>[l(s(r),null,{default:i(()=>e[7]||(e[7]=[t("i",{class:"pi pi-user-plus"},null,-1)])),_:1}),l(s(v),{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=u=>f.value=u),type:"text",placeholder:"이름",fluid:""},null,8,["modelValue"])]),_:1}),l(s(p),null,{default:i(()=>[l(s(r),null,{default:i(()=>e[8]||(e[8]=[t("i",{class:"pi pi-lock"},null,-1)])),_:1}),l(s(v),{modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=u=>y.value=u),type:b.value?"text":"password",placeholder:"비밀번호",fluid:""},null,8,["modelValue","type"]),l(s(r),null,{default:i(()=>[t("i",{class:G(b.value?"pi pi-eye":"pi pi-eye-slash"),onClick:_},null,2)]),_:1})]),_:1}),t("div",O,[l(s(p),{class:"md:w-2/3"},{default:i(()=>[l(s(r),null,{default:i(()=>e[9]||(e[9]=[t("i",{class:"pi pi-user-minus"},null,-1)])),_:1}),l(s(v),{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=u=>c.value=u),type:"text",placeholder:"닉네임",fluid:"",disabled:w.value},null,8,["modelValue","disabled"])]),_:1}),l(s(T),{label:"중복 확인",class:"md:w-1/3",onClick:S})]),t("div",H,[l(s(p),{class:"md:w-2/3"},{default:i(()=>[l(s(r),null,{default:i(()=>e[10]||(e[10]=[t("i",{class:"pi pi-mobile"},null,-1)])),_:1}),l(s(v),{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=u=>m.value=u),type:"text",placeholder:"전화번호",fluid:"",disabled:h.value},null,8,["modelValue","disabled"])]),_:1}),l(s(T),{label:"중복 확인",class:"md:w-1/3",onClick:U})]),l(s(p),null,{default:i(()=>[l(s(r),null,{default:i(()=>e[11]||(e[11]=[t("i",{class:"pi pi-send"},null,-1)])),_:1}),l(s(v),{modelValue:V.value,"onUpdate:modelValue":e[5]||(e[5]=u=>V.value=u),type:"text",placeholder:"이메일",fluid:""},null,8,["modelValue"])]),_:1}),t("div",K,[l(s(T),{class:"md:w-1/2",onClick:x,label:"뒤로"}),l(s(T),{class:"md:w-1/2",onClick:j,label:"회원가입"})])])])]))}};export{Z as default};
