import{s as n}from"./index-BAKYOd6c.js";import{x as z,y as M,q as N,t,v as V,o as j,e as q,j as s,a7 as a,n as o,u as r,w as B,p as F,D as _,F as I,A as y,z as A}from"./index-ELgps0j8.js";import O from"./DevAndStackCommentPage-DpUUoVhj.js";import"./index-K56FDctV.js";import"./index-DwJEJvq7.js";import"./index-BvRL5P7J.js";const R={class:"text-left ml-16 mt-16"},U={class:"text-8xl mb-5 text-black"},L={class:"text-5xl mb-5 text-black"},$={class:"text-2xl text-black"},W={class:"text-2xl text-black"},H={class:"text-left mr-16 flex justify-end"},ee={__name:"DevAndStackViewPage",props:{boardGuid:String},setup(D){const u=z(),C=M(),m=N(),c=D,v=t(""),p=t(""),b=t(""),g=t(""),k=t(""),S=t(!1),i=t(!1),d=t(!1),f=t(0),w=()=>{const e=u.getUserAccess.ugd,l=u.getUserRole;A(e)===k.value?(S.value=!0,i.value=!0):A(l)==="manager"&&(i.value=!0)},h=()=>{m.push({name:"DevelopmentAndStackPage"}).catch(()=>{console.log("DevelopmentAndStackPageError")})},G=()=>{m.push({name:"DevAndStackEditPage"}).catch(()=>{console.log("DevAndStackEditPage")})},E=()=>{d.value=!0},T=()=>{x(),d.value=!1},x=async()=>{const e=await y.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/board/dev/stack/search",params:{developmentAndStackGuid:c.boardGuid}});v.value=e.boardTitle,p.value=e.boardContent,b.value=e.memberNickName,g.value=e.boardInsertDate.split("T")[0],k.value=e.memberGuid,f.value=e.commentCount,w()},P=async()=>{await y.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/board/dev/stack/delete/${c.boardGuid}`})==="success"&&(C.setToastValue({severity:"success",summary:"게시글 삭제",detail:"삭제가 완료되었습니다.",life:3e3}),h())};return V(()=>{x()}),(e,l)=>(j(),q(I,null,[s("div",R,[s("h2",U,a(v.value),1),s("p",L,a(p.value),1),s("p",$,"작성자 : "+a(b.value),1),s("p",W,"작성일 : "+a(g.value),1)]),l[0]||(l[0]=s("hr",{class:"mt-5 ml-16 mr-16 mb-10"},null,-1)),s("div",H,[o(r(n),{label:"목록",size:"large",class:"mr-2",onClick:h}),o(r(n),{size:"large",severity:"help",class:"mr-2",onClick:E},{default:B(()=>[F("댓글 "+a(f.value)+"건",1)]),_:1}),o(r(n),{label:"수정",size:"large",severity:"info",class:"mr-2",style:_(S.value?"":"display: none"),onClick:G},null,8,["style"]),o(r(n),{label:"삭제",size:"large",severity:"danger",style:_(i.value?"":"display: none"),onClick:P},null,8,["style"])]),o(O,{showModal:d.value,boardGuid:c.boardGuid,onCloseCommentModal:T},null,8,["showModal","boardGuid"])],64))}};export{ee as default};
