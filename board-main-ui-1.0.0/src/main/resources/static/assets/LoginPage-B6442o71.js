import{_ as x}from"./board-BFWOEN-2.js";import{s as p,a as v}from"./index-BeEWSCfJ.js";import{s as w}from"./index-BvRL5P7J.js";import{s as m}from"./index-BAKYOd6c.js";import{t as f,x as S,y as U,q as T,e as C,j as o,n as s,w as u,u as l,o as I,G as A,A as E,E as P}from"./index-ELgps0j8.js";const F={class:"bg-cover bg-center bg-fixed"},R={class:"h-screen flex justify-center items-center"},N={class:"w-full sm:w-80 flex flex-col gap-6 shadow-lg w-full p-16 md:w-1/3 lg:w-1/4"},L={__name:"LoginPage",setup(j){const t=f(""),r=f(""),g=S(),i=U(),n=f(!1);let a=null;const c=T(),y=()=>{t.value==null||t.value==""?i.setToastValue({severity:"warn",summary:"로그인 오류",detail:"아이디를 입력해주세요.",life:3e3}):r.value==null||r.value==""?i.setToastValue({severity:"warn",summary:"로그인 오류",detail:"비밀번호를 입력해주세요.",life:3e3}):V()},V=async()=>{a=await E.requestAPI({headers:{accept:"application/json"},method:"POST",url:"/member/login",data:{id:P(t.value),password:P(r.value)}}),a.outPut?(g.setUserAccess({at:a.accessToken,rt:a.refreshToken,uid:a.userId,ugd:a.userGuid,unn:a.userNickName,rol:a.userRole}),g.setUserRole(a.userRole),_()):i.setToastValue({severity:"warn",summary:"로그인 오류",detail:"아이디 또는 비밀번호를 확인해주세요.",life:3e3})},_=()=>{c.push({name:"MainPage"}).catch(()=>{console.log("mainPageError")})},h=()=>{c.push({name:"SignUpPage"}).catch(()=>{console.log("signUpError")})},b=()=>{c.push({name:"ResetPasswordPage"}).catch(()=>{console.log("resetPasswordError")})},k=()=>{n.value=!n.value};return(B,e)=>(I(),C("div",F,[o("div",R,[o("div",N,[e[4]||(e[4]=o("img",{src:x,class:"mb-10"},null,-1)),s(l(v),null,{default:u(()=>[s(l(p),null,{default:u(()=>e[2]||(e[2]=[o("i",{class:"pi pi-user"},null,-1)])),_:1}),s(l(w),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=d=>t.value=d),type:"text",placeholder:"ID",autofocus:"",fluid:""},null,8,["modelValue"])]),_:1}),s(l(v),null,{default:u(()=>[s(l(p),null,{default:u(()=>e[3]||(e[3]=[o("i",{class:"pi pi-lock"},null,-1)])),_:1}),s(l(w),{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=d=>r.value=d),type:n.value?"text":"password",placeholder:"Password",fluid:""},null,8,["modelValue","type"]),s(l(p),null,{default:u(()=>[o("i",{class:A(n.value?"pi pi-eye":"pi pi-eye-slash"),onClick:k},null,2)]),_:1})]),_:1}),s(l(m),{onClick:y,label:"로그인"}),o("div",null,[s(l(m),{onClick:h,label:"회원가입",class:"md:w-1/2"}),s(l(m),{onClick:b,label:"비밀번호 재설정",class:"md:w-1/2"})])])])]))}};export{L as default};
