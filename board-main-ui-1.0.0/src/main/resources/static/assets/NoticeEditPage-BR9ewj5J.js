import{s as y}from"./index-POF9V-PZ.js";import{s as T}from"./index-B2GKD0S0.js";import{s as d}from"./index-BUPveENK.js";import{q as w,t as b,v as m,z as h,o as G,e as k,j as t,n as i,u as a,F as C,A as p}from"./index-rWrCVdvU.js";const N={class:"card flex"},z={class:"flex flex-col gap-2 text-left ml-16"},A={class:"card flex"},E={class:"flex flex-col gap-2 text-left ml-16"},P={class:"text-left mr-16 flex justify-end"},B={__name:"NoticeEditPage",props:{noticeGuid:String},setup(f){const n=f,x=w(),c=b(),o=m(""),l=m(""),u=()=>{const s=n.noticeGuid;x.push({name:"NoticeViewPage",params:{noticeGuid:s}}).catch(()=>{console.log("NoticeViewPageError")})},v=()=>{o.value===""?c.setToastValue({severity:"warn",summary:"공지사항 수정 오류",detail:"제목을 입력해주세요.",life:3e3}):l.value===""?c.setToastValue({severity:"warn",summary:"공지사항 수정 오류",detail:"내용을 입력해주세요.",life:3e3}):g()},V=async()=>{const s=await p.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/notice/search",params:{noticeGuid:n.noticeGuid}});o.value=s.noticeTitle,l.value=s.noticeContent},g=async()=>{await p.requestAPI({headers:{accept:"application/json"},method:"PUT",url:"/notice/update",data:{noticeGuid:n.noticeGuid,noticeTitle:o.value,noticeContent:l.value}})==="success"&&(c.setToastValue({severity:"success",summary:"공지사항 수정",detail:"수정이 완료되었습니다.",life:3e3}),u())};return h(()=>{V()}),(s,e)=>(G(),k(C,null,[e[4]||(e[4]=t("div",{class:"text-left text-black"},[t("div",{class:"ml-5 text-6xl p-10"},"공지사항 수정")],-1)),t("div",N,[t("div",z,[e[2]||(e[2]=t("label",{for:"noticeTitle",class:"text-3xl text-black"},"제목",-1)),i(a(y),{id:"noticeTitle",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),size:"large",style:{width:"1400px",height:"50px","font-size":"20px"}},null,8,["modelValue"])])]),t("div",A,[t("div",E,[e[3]||(e[3]=t("label",{for:"noticeContent",class:"text-3xl text-black mt-5"},"내용",-1)),i(a(T),{id:"noticeContent",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),rows:"5",cols:"30",style:{width:"1400px",height:"300px","font-size":"20px"}},null,8,["modelValue"])])]),e[5]||(e[5]=t("hr",{class:"mt-16 ml-16 mr-16 mb-10"},null,-1)),t("div",P,[i(a(d),{label:"뒤로가기",size:"large",class:"mr-2",onClick:u}),i(a(d),{label:"수정",size:"large",severity:"info",class:"mr-2",onClick:v})])],64))}};export{B as default};
