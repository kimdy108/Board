import{s as i,a as w}from"./index-Daet33y_.js";import{s as n}from"./index-BUPveENK.js";import{v as b,C as N,t as P,z as _,e as x,j as c,n as t,w as f,u as a,F as T,A as m,D as r,o as u,f as p}from"./index-rWrCVdvU.js";import"./index-C8irRjjW.js";import"./index-tOX5CAHA.js";import"./index-POF9V-PZ.js";import"./index-CiqZlgx1.js";const G={class:"card"},B={__name:"PromoteManagerPage",setup(I){const y=b(),h=N(),o=P(),g=async e=>{await m.requestAPI({headers:{accept:"application/json"},method:"PUT",url:"/member/promote/manager",data:{userGuid:e.data.userGuid}})==="success"?(o.setToastValue({severity:"success",summary:"매니저 관리",detail:"매니저 수정이 완료되었습니다.",life:3e3}),d()):o.setToastValue({severity:"error",summary:"매니저 관리",detail:"매니저 수정이 실패했습니다.",life:3e3})},v=async e=>{await m.requestAPI({headers:{accept:"application/json"},method:"PUT",url:"/member/relegate/manager",data:{userGuid:e.data.userGuid}})==="success"?(o.setToastValue({severity:"success",summary:"매니저 관리",detail:"매니저 수정이 완료되었습니다.",life:3e3}),d()):o.setToastValue({severity:"error",summary:"매니저 관리",detail:"매니저 수정이 실패했습니다.",life:3e3})},d=async()=>{const e=await m.requestAPI({headers:{accept:"application/json"},method:"GET",url:"/member/info/list"});for(let s in e)e[s].userId=r(e[s].userId),e[s].userGuid=r(e[s].userGuid),e[s].userName=r(e[s].userName),e[s].userNickName=r(e[s].userNickName),e[s].userEmail=r(e[s].userEmail),e[s].userPhone=r(e[s].userPhone),e[s].userRole=r(e[s].userRole),e[s].insertDate=e[s].insertDate.split("T")[0];y.value=e};return _(()=>{d()}),(e,s)=>(u(),x(T,null,[s[0]||(s[0]=c("div",{class:"text-left text-black"},[c("div",{class:"ml-5 text-6xl p-10"},"매니저 관리")],-1)),c("div",G,[t(a(w),{value:y.value,paginator:"",rows:10,tableStyle:"min-width: 50rem",style:{"margin-left":"15px","margin-right":"15px"}},{default:f(()=>[t(a(i),{field:"userId",header:"아이디",style:{width:"15%"}}),t(a(i),{field:"userName",header:"이름",style:{width:"15%"}}),t(a(i),{field:"userNickName",header:"닉네임",style:{width:"15%"}}),t(a(i),{field:"userPhone",header:"전화번호",style:{width:"15%"}}),t(a(i),{field:"userEmail",header:"이메일",style:{width:"15%"}}),t(a(i),{field:"insertDate",header:"가입일",style:{width:"15%"}}),t(a(i),{style:{width:"10%"}},{body:f(l=>[l.data.userRole!=="manager"?(u(),p(a(n),{key:0,label:"매니저 지정",rounded:"",class:"mr-2",onClick:k=>g(l)},null,8,["onClick"])):l.data.userRole==="manager"&&l.data.userId!=="admin"?(u(),p(a(n),{key:1,label:"매니저 삭제",rounded:"",severity:"danger",onClick:k=>v(l),disabled:l.data.userId==="admin"||l.data.userGuid===a(r)(a(h).getUserAccess.ugd)},null,8,["onClick","disabled"])):(u(),p(a(n),{key:2,label:"최고 관리자",rounded:"",severity:"info"}))]),_:1})]),_:1},8,["value"])])],64))}};export{B as default};
