import{_ as T}from"./board-BFWOEN-2.js";import{s as z}from"./index-DbA-cC6G.js";import{s as C,a as $}from"./index-BeEWSCfJ.js";import{s as H}from"./index-BvRL5P7J.js";import{s as I}from"./index-BAKYOd6c.js";import{B as N,aL as h,K as B,o as m,f as j,aa as k,w as a,l as v,n as c,m as p,j as l,e as b,F as w,h as P,G as S,k as E,a7 as q,s as G,t as F,x as M,y as K,q as J,aM as Q,u as f,p as W,z as X,A as Y,E as Z}from"./index-ELgps0j8.js";import{s as x}from"./index-K56FDctV.js";import"./index-DwJEJvq7.js";var _=function(n){var o=n.dt;return`
.p-confirmdialog .p-dialog-content {
    display: flex;
    align-items: center;
    gap:  `.concat(o("confirmdialog.content.gap"),`;
}

.p-confirmdialog-icon {
    color: `).concat(o("confirmdialog.icon.color"),`;
    font-size: `).concat(o("confirmdialog.icon.size"),`;
    width: `).concat(o("confirmdialog.icon.size"),`;
    height: `).concat(o("confirmdialog.icon.size"),`;
}
`)},ee={root:"p-confirmdialog",icon:"p-confirmdialog-icon",message:"p-confirmdialog-message",pcRejectButton:"p-confirmdialog-reject-button",pcAcceptButton:"p-confirmdialog-accept-button"},ne=N.extend({name:"confirmdialog",theme:_,classes:ee}),te={name:"BaseConfirmDialog",extends:G,props:{group:String,breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0}},style:ne,provide:function(){return{$pcConfirmDialog:this,$parentInstance:this}}},V={name:"ConfirmDialog",extends:te,confirmListener:null,closeListener:null,data:function(){return{visible:!1,confirmation:null}},mounted:function(){var n=this;this.confirmListener=function(o){o&&o.group===n.group&&(n.confirmation=o,n.confirmation.onShow&&n.confirmation.onShow(),n.visible=!0)},this.closeListener=function(){n.visible=!1,n.confirmation=null},h.on("confirm",this.confirmListener),h.on("close",this.closeListener)},beforeUnmount:function(){h.off("confirm",this.confirmListener),h.off("close",this.closeListener)},methods:{accept:function(){this.confirmation.accept&&this.confirmation.accept(),this.visible=!1},reject:function(){this.confirmation.reject&&this.confirmation.reject(),this.visible=!1},onHide:function(){this.confirmation.onHide&&this.confirmation.onHide(),this.visible=!1}},computed:{header:function(){return this.confirmation?this.confirmation.header:null},message:function(){return this.confirmation?this.confirmation.message:null},blockScroll:function(){return this.confirmation?this.confirmation.blockScroll:!0},position:function(){return this.confirmation?this.confirmation.position:null},acceptLabel:function(){if(this.confirmation){var n,o=this.confirmation;return o.acceptLabel||((n=o.acceptProps)===null||n===void 0?void 0:n.label)||this.$primevue.config.locale.accept}return this.$primevue.config.locale.accept},rejectLabel:function(){if(this.confirmation){var n,o=this.confirmation;return o.rejectLabel||((n=o.rejectProps)===null||n===void 0?void 0:n.label)||this.$primevue.config.locale.reject}return this.$primevue.config.locale.reject},acceptIcon:function(){var n;return this.confirmation?this.confirmation.acceptIcon:(n=this.confirmation)!==null&&n!==void 0&&n.acceptProps?this.confirmation.acceptProps.icon:null},rejectIcon:function(){var n;return this.confirmation?this.confirmation.rejectIcon:(n=this.confirmation)!==null&&n!==void 0&&n.rejectProps?this.confirmation.rejectProps.icon:null},autoFocusAccept:function(){return this.confirmation.defaultFocus===void 0||this.confirmation.defaultFocus==="accept"},autoFocusReject:function(){return this.confirmation.defaultFocus==="reject"},closeOnEscape:function(){return this.confirmation?this.confirmation.closeOnEscape:!0}},components:{Dialog:x,Button:I}};function oe(e,n,o,d,i,t){var g=B("Button"),y=B("Dialog");return m(),j(y,{visible:i.visible,"onUpdate:visible":[n[2]||(n[2]=function(s){return i.visible=s}),t.onHide],role:"alertdialog",class:S(e.cx("root")),modal:!0,header:t.header,blockScroll:t.blockScroll,position:t.position,breakpoints:e.breakpoints,closeOnEscape:t.closeOnEscape,draggable:e.draggable,pt:e.pt,unstyled:e.unstyled},k({default:a(function(){return[e.$slots.container?E("",!0):(m(),b(w,{key:0},[e.$slots.message?(m(),j(P(e.$slots.message),{key:1,message:i.confirmation},null,8,["message"])):(m(),b(w,{key:0},[v(e.$slots,"icon",{},function(){return[e.$slots.icon?(m(),j(P(e.$slots.icon),{key:0,class:S(e.cx("icon"))},null,8,["class"])):i.confirmation.icon?(m(),b("span",p({key:1,class:[i.confirmation.icon,e.cx("icon")]},e.ptm("icon")),null,16)):E("",!0)]}),l("span",p({class:e.cx("message")},e.ptm("message")),q(t.message),17)],64))],64))]}),_:2},[e.$slots.container?{name:"container",fn:a(function(s){return[v(e.$slots,"container",{message:i.confirmation,closeCallback:s.onclose,acceptCallback:t.accept,rejectCallback:t.reject})]}),key:"0"}:void 0,e.$slots.container?void 0:{name:"footer",fn:a(function(){var s;return[c(g,p({class:[e.cx("pcRejectButton"),i.confirmation.rejectClass],autofocus:t.autoFocusReject,unstyled:e.unstyled,text:((s=i.confirmation.rejectProps)===null||s===void 0?void 0:s.text)||!1,onClick:n[0]||(n[0]=function(u){return t.reject()})},i.confirmation.rejectProps,{label:t.rejectLabel,pt:e.ptm("pcRejectButton")}),k({_:2},[t.rejectIcon||e.$slots.rejecticon?{name:"icon",fn:a(function(u){return[v(e.$slots,"rejecticon",{},function(){return[l("span",p({class:[t.rejectIcon,u.class]},e.ptm("pcRejectButton").icon,{"data-pc-section":"rejectbuttonicon"}),null,16)]})]}),key:"0"}:void 0]),1040,["class","autofocus","unstyled","text","label","pt"]),c(g,p({label:t.acceptLabel,class:[e.cx("pcAcceptButton"),i.confirmation.acceptClass],autofocus:t.autoFocusAccept,unstyled:e.unstyled,onClick:n[1]||(n[1]=function(u){return t.accept()})},i.confirmation.acceptProps,{pt:e.ptm("pcAcceptButton")}),k({_:2},[t.acceptIcon||e.$slots.accepticon?{name:"icon",fn:a(function(u){return[v(e.$slots,"accepticon",{},function(){return[l("span",p({class:[t.acceptIcon,u.class]},e.ptm("pcAcceptButton").icon,{"data-pc-section":"acceptbuttonicon"}),null,16)]})]}),key:"0"}:void 0]),1040,["label","class","autofocus","unstyled","pt"])]}),key:"1"}]),1032,["visible","class","header","blockScroll","position","breakpoints","closeOnEscape","draggable","onUpdate:visible","pt","unstyled"])}V.render=oe;const ie={class:"bg-cover bg-center bg-fixed"},se={class:"h-screen flex justify-center items-center"},ce={class:"w-full sm:w-80 flex flex-col gap-6 shadow-lg w-full p-16 md:w-1/3 lg:w-1/2"},ge={__name:"SignOutPage",setup(e){const n=F(""),o=M(),d=K(),i=F(!1);let t=null;const g=J(),y=Q(),s=()=>{i.value=!i.value},u=()=>{n.value===""||n.value===null?d.setToastValue({severity:"warn",summary:"회원탈퇴",detail:"비밀번호를 입력해주세요.",life:3e3}):R()},A=()=>{o.setUserLogout(),g.push({name:"LoginPage"}).catch(()=>{console.log("loginPageError")})},O=()=>{d.setToastValue({severity:"info",summary:"회원탈퇴",detail:"회원탈퇴를 취소하셨습니다. 메인페이지로 이동합니다.",life:3e3}),g.push({name:"MainPage"}).catch(()=>{console.log("mainPageError")})},D=async()=>{const L=X(o.getUserAccess.ugd);t=await Y.requestAPI({headers:{accept:"application/json"},method:"DELETE",url:`/member/delete/${L}`,data:{password:Z(n.value)}}),t==="success"?(d.setToastValue({severity:"success",summary:"회원탈퇴",detail:"회원탈퇴가 완료되었습니다.",life:3e3}),A()):d.setToastValue({severity:"error",summary:"회원탈퇴",detail:"비밀번호가 일치하지 않습니다.",life:3e3})},R=()=>{y.require({message:"회원 탈퇴를 하시겠습니까? 탈퇴 후에는 복구되지 않습니다.",header:"회원 탈퇴",icon:"pi pi-info-circle",rejectLabel:"취소",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"탈퇴",severity:"danger"},accept:()=>{D()},reject:()=>{O()}})};return(L,r)=>(m(),b("div",ie,[l("div",se,[l("div",ce,[r[3]||(r[3]=l("img",{src:T,class:"mb-10"},null,-1)),c(f($),null,{default:a(()=>[c(f(C),null,{default:a(()=>r[1]||(r[1]=[l("i",{class:"pi pi-lock"},null,-1)])),_:1}),c(f(H),{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=U=>n.value=U),type:i.value?"text":"password",placeholder:"Password",fluid:""},null,8,["modelValue","type"]),c(f(C),null,{default:a(()=>[l("i",{class:S(i.value?"pi pi-eye":"pi pi-eye-slash"),onClick:s},null,2)]),_:1})]),_:1}),c(f(z),null,{content:a(()=>r[2]||(r[2]=[W(" 회원 탈퇴를 하시려면 비밀번호를 입력 후 회원탈퇴 버튼을 눌러주세요. ")])),_:1}),c(f(V)),c(f(I),{onClick:u,label:"회원탈퇴",severity:"danger",outlined:""})])])]))}};export{ge as default};
